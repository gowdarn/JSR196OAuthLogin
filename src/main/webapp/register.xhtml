<ui:composition template="/WEB-INF/templates/common/commonLayout.xhtml" 
				xmlns="http://www.w3.org/1999/xhtml"   
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
				xmlns:jsf="http://xmlns.jcp.org/jsf"
				>
	<ui:define name="title">
		<title>Registration</title>
	</ui:define>
    
    <ui:define name="navigationHeader">
        
    </ui:define>
    
    <ui:define name="includes">
        <ui:include src="/WEB-INF/templates/common/cssFiles.xhtml" />
        <h:outputStylesheet library="assets" name="/css/signin.css" /> 
    </ui:define>


	<ui:define name="content">
		<f:event type="preRenderView" listener="#{loginForm.checkAuthentication()}" />

		<f:view>
            <form class="form-signin" action="j_security_check" jsf:id="native-registration-form">
                <h2 class="form-signin-heading">Registration</h2>
                <p>Already registered? <a href="#{request.contextPath}/signin.xhtml">Sign in...</a></p>
                
                <label class="sr-only" jsf:for="firstName">First Name: </label>
                <input type="text" jsf:id="firstName" jsf:value="#{credentials.firstName}" class="form-control" 
                       placeholder="First name" required="true" autofocus=""/>
				<h:message id="m1" for="firstName" class="form-control-message"/>
                
                <label class="sr-only" jsf:for="lastName">Last Name: </label>
                <input type="text" jsf:id="lastName" jsf:value="#{credentials.lastName}" class="form-control" 
                       placeholder="Last name" required="true"/>
				<h:message id="m2" for="lastName" class="form-control-message"/>
                
                <label class="sr-only" jsf:for="email">Email address</label>
                <input type="email" jsf:id="email" jsf:value="#{credentials.email}" placeholder="your.email@domain.com" class="form-control" required="true"/>
                <h:message id="m3" for="email" class="form-control-message"/>
                
                <label class="sr-only" jsf:for="password">Password</label>
                <input type="password" jsf:id="password" jsf:value="#{credentials.pw}" placeholder="password" class="form-control" 
                        required="true" pattern=".{6,20}" maxlength="20" title="6 characters minimum"/>
                <h:message id="m4" for="password" class="form-control-message"/>
                
                <button type="submit" jsf:action="#{signUpCtrl.register(credentials)}" class="btn btn-lg btn-primary btn-block">Register</button>
            </form>
            <form class="form-signin" jsf:id="social-registration-form">
                <p></p>
                <p>Alternatively, register using your preferred social login provider: </p>
                <button type="submit" value="facebook" jsf:action="#{signUpCtrl.useFacebook()}" class="btn btn-success">Facebook</button>
                <button type="submit" value="google+" jsf:action="#{signUpCtrl.useGooglePlus()}" class="btn btn-danger">Google +</button>
                <button type="submit" value="twitter" jsf:action="#{signUpCtrl.useTwitter()}" class="btn btn-success">Twitter</button>
                <button type="submit" value="linked-in" jsf:action="#{signUpCtrl.useLinkedIn()}" class="btn btn-primary">Linked-in</button>
            </form>
            
			<div jsf:rendered="${registration.registrationSuccessful}" class="success">
				<h4>Registration was successful.</h4>
			</div>
            
		</f:view>
	</ui:define>

	<ui:define name="footer">
		
	</ui:define>

</ui:composition>
